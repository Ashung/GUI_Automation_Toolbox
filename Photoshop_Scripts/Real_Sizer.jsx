/*==========================================================# RealSizerRealSizer is a Photoshop script for mobile UI designer. It help you to display your designs at real size on computer monitor, and real size printing for your design.### Setting Photoshop "Screen Resolution" PreferencesOpen Photoshop and choose Edit > Preferences > Units & Rulers Preferences,in the "New Document Preset Resolutions" area,change the "screen resolution" to your monitor resolution.You can find your monitor PPI from[List of 6000+ displays by pixel density (PPI)](http://www.canbike.org/PPI/)or [Calculation of monitor PPI](http://en.wikipedia.org/wiki/Pixel_density#Calculation_of_monitor_PPI).### Run "RealSizer.jsx"Before you run "RealSizer.jsx" script, must open at lest one document and select your target document, Make sure that the document size or content size is match your screen size of device.Double click this file, or choose File > Scripts > Browse and navigate to this file. If your want to install script to PhotoShop menu, Move "RealSizer.jsx" to "/Presets/Scripts/" in the Photoshop folder.After your restart PhotoShop, you can run the script from "File > Scripts > RealSizer".Choose the device you have, then press the 'New Window for Real Size View'or 'New Document for Real Size Printing' button.### Add Anther DeviceYou can and more device to the dropdown menu by add codes.    {'title': 'Samsung Galaxy S III', 'dpi': 306, 'resolution': [720, 1280], diagonal: 4.8},    {'title': 'Nokia Lumia 920', 'dpi': 332, 'resolution': [1280, 768], diagonal: 4.5}Device informations can find from [Wikipedia](http://en.wikipedia.org/wiki/List_of_displays_by_pixel_density) or device specifications sheet from official site. -----------------------------RealSizer是为mobile UI设计师编写的Photoshop脚本. 可以帮助你在电脑屏幕将设计显示为真实尺寸, 和创建用于打印真实尺寸的图像.### 设置 Photoshop "屏幕分辨率" 首先项打开Photoshop从编辑 > 首选项 > 单位与标尺打开首选项对话框,在 "新文档预设分辨率" 区域,将"屏幕分辩率"的数值改成您显示器的分辨率(dpi)你可以从[List of 6000+ displays by pixel density (PPI)](http://www.canbike.org/PPI/)找到你显示器的DPI或者[计算显示器DPI](http://en.wikipedia.org/wiki/Pixel_density#Calculation_of_monitor_PPI).### 运行 "RealSizer.jsx"在运行RealSizer.jsx之前, 必须要至少先打开一个设计文档, 并选择你的目标文档, 保证文档大小或者内容的尺寸符合你要选择的设备屏幕.双击文件, 或者从菜单 "文件 > 脚本 > 浏览" 打开文件. 如果要将脚本集成到Photoshop菜单, 把"RealSizer.jsx"移到Photoshop安装目录的"/Presets/Scripts/"文件内.在下次启动PhotoShop时, 你可以从菜单 "文件 > 脚本 > RealSizer" 运行脚本.先选择你有的真实设备, 然后点击"新窗口显示实际尺寸"或者"创建用于打印真实尺寸的图像"按钮.### 添加其他设备如果下拉菜单没有你的设备, 可以通过修改代码加入更多设备信息.用文本编辑器打开"RealSizer.jsx", 找到下方第一行代码, 行尾逗号结束,新增一行输入新设备的信息, 示例如下.    {'title': 'Samsung Galaxy S III', 'dpi': 306, 'resolution': [720, 1280], diagonal: 4.8},    {'title': 'Nokia Lumia 920', 'dpi': 332, 'resolution': [1280, 768], diagonal: 4.5}设备信息可以从[Wikipedia](http://en.wikipedia.org/wiki/List_of_displays_by_pixel_density) 或者设备官方网站上的规格参数表内找到.  ### Licenses:Copyright (c) 2015 Ashung Hung (mailto:Ashung.hung@gmail.com)Licensed under the Apache License, Version 2.0 (the "License");you may not use this file except in compliance with the License.You may obtain a copy of the License at    http://www.apache.org/licenses/LICENSE-2.0Unless required by applicable law or agreed to in writing, softwaredistributed under the License is distributed on an "AS IS" BASIS,WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.See the License for the specific language governing permissions andlimitations under the License.==========================================================*/var devicesDPI = [{'title': 'iPhone 6 Plus', 'dpi': 401, 'resolution': [1080, 1920], diagonal: 5.5},{'title': 'iPhone 6', 'dpi': 326, 'resolution': [750, 1334], diagonal: 4.7},{'title': 'iPhone 5s/5c/5', 'dpi': 326, 'resolution': [640, 1136], diagonal: 4},{'title': 'iPhone 4/4S', 'dpi': 326, 'resolution': [640, 960], diagonal: 3.5},{'title': 'iPad 3/4/Air/Air2', 'dpi': 264, 'resolution': [1536, 2048], diagonal: 9.7},{'title': 'iPad 1/2', 'dpi': 132, 'resolution': [768, 1024], diagonal: 9.7},{'title': 'iPad Mini 2/3', 'dpi': 324, 'resolution': [1536, 2048], diagonal: 7.9},{'title': 'iPad Mini', 'dpi': 163, 'resolution': [768, 1024], diagonal: 7.9},{'title': 'Google Nexus 4', 'dpi': 318, 'resolution': [768, 1280], diagonal: 4.7},{'title': 'Google Nexus 5', 'dpi': 445, 'resolution': [1080, 1920], diagonal: 4.95},{'title': 'Google Nexus 6', 'dpi': 493, 'resolution': [1440, 2560], diagonal: 5.96},{'title': 'Google Nexus 7', 'dpi': 216, 'resolution': [800, 1280], diagonal: 7},{'title': 'Google Nexus 7 2013', 'dpi': 323, 'resolution': [1200, 1920], diagonal: 7},{'title': 'Google Nexus 9', 'dpi': 281, 'resolution': [1536, 2048], diagonal: 8.9},{'title': 'Google Nexus 10', 'dpi': 302, 'resolution': [1600, 2560], diagonal: 10},/*{'title': 'Samsung Galaxy S (I9000/I9001)', 'dpi': 233, 'resolution': [480, 800], diagonal: 4.0},{'title': 'Samsung Galaxy S II (I9100)', 'dpi': 219, 'resolution': [480, 800], diagonal: 4.27},{'title': 'Samsung Galaxy S III', 'dpi': 306, 'resolution': [720, 1280], diagonal: 4.8},{'title': 'Samsung Galaxy S IV', 'dpi': 441, 'resolution': [1080, 1920], diagonal: 5},{'title': 'Samsung Galaxy Nexus', 'dpi': 316, 'resolution': [720, 1280], diagonal: 4.65},{'title': 'Samsung Galaxy Tab', 'dpi': 171, 'resolution': [1024, 600], diagonal: 7},{'title': 'Samsung Galaxy Tab 7.7', 'dpi': 196, 'resolution': [1280, 800], diagonal: 7.7},{'title': 'Samsung Galaxy Tab 10.1', 'dpi': 149, 'resolution': [1280, 800], diagonal: 10.1},{'title': 'Samsung Galaxy Note', 'dpi': 285, 'resolution': [800, 1280], diagonal: 5.3},{'title': 'Samsung Galaxy Note II', 'dpi': 267, 'resolution': [720, 1280], diagonal: 5.55},{'title': 'Samsung Galaxy Note 10.1', 'dpi': 149, 'resolution': [1280, 800], diagonal: 10.1},{'title': 'Nexus 10', 'dpi': 300, 'resolution': [2560, 1600], diagonal: 10.055},{'title': 'Nokia Lumia 710/800', 'dpi': 252, 'resolution': [480, 800], diagonal: 3.7},{'title': 'Nokia Lumia 820/900', 'dpi': 217, 'resolution': [480, 800], diagonal: 4.3},{'title': 'Nokia Lumia 920', 'dpi': 332, 'resolution': [768, 1280], diagonal: 4.5},{'title': 'Microsoft Surface', 'dpi': 148, 'resolution': [1366, 768], diagonal: 10.1},{'title': 'Microsoft Surface Pro', 'dpi': 148, 'resolution': [1366, 768], diagonal: 10.1},{'title': 'BlackBerry PlayBook', 'dpi': 169, 'resolution': [1024, 600], diagonal: 7},{'title': 'BlackBerry Z10', 'dpi': 208, 'resolution': [1920, 1080], diagonal: 4.2},{'title': 'Oppo Find 5', 'dpi': 441, 'resolution': [1080, 1920], diagonal: 5},{'title': 'Xiaomi Mi1', 'dpi': 245, 'resolution': [480, 854], diagonal: 4},{'title': 'Xiaomi Mi2', 'dpi': 341, 'resolution': [720, 1280], diagonal: 4.3},{'title': 'Huawei D2', 'dpi': 443, 'resolution': [1080, 1920], diagonal: 5},{'title': 'Huawei P1', 'dpi': 256, 'resolution': [540, 960], diagonal: 4.3}*/];var lang = {    devicesLabel: {        en: 'Choose Devices:',        zh: '选择设备:'    },    btnRealSizeView: {        en: 'New Window for Real Size View',        zh: '新窗口显示实际尺寸'    },    btnRealSizePrint: {        en: 'New Document for Real Size Printing',        zh: '创建用于打印真实尺寸的图像'    },    btnClose: {        en: 'Close',        zh: '关闭'    },    alertOpenDoc: {        en: 'Please open a document first.\rMake sure that the document size or content size is match your screen size of device.',        zh: '请先打开文档.\r保证文档大小或者内容的尺寸符合你要选择的设备屏幕.'    },    about: {        en: 'About',        zh: '关于'    },    aboutText: {        en: 'RealSizer help mobile UI designer to display \ntheir designs at real size on computer monitor, \nand printing at real size.',        zh: 'RealSizer用于让Mobile UI设计师在屏幕将设计显示为真实尺寸, 和创建用于打印真实尺寸的图像.'    }};var layoutRes = "dialog {\    text: 'RealSizer',\    alignChildren: 'left',\    about: Panel {\        orientation: 'column',\        text: '" + localize(lang.about) + "',\        size: [300, 80],\        alignChildren: 'left',\        aboutText: StaticText { characters: 38, properties: { multiline: true } }\    },\    devices: Group {\        orientation: 'column',\        alignChildren: 'left',\        label: StaticText { text: '" + localize(lang.devicesLabel) + "'},\        select: DropDownList { size: [300, 30] }\    },\    actions: Group {\        orientation: 'column',\        btnRealSizeView: Button { text: '" + localize(lang.btnRealSizeView) + "', size: [300, 30]}\        btnRealSizePrint: Button { text: '" + localize(lang.btnRealSizePrint) + "', size: [300, 30]}\    },\    separator: Panel { preferredSize: [300, 0] },\    btnClose: Button { text: '" + localize(lang.btnClose) + "', size: [300, 30]}\}";var win = new Window(layoutRes);var dpi;var deviceDropDownList = win.devices.select;var btnRealSizeView = win.actions.btnRealSizeView;var btnRealSizePrint = win.actions.btnRealSizePrint;for(var i = 0; i < devicesDPI.length; i ++) {    var text = devicesDPI[i].title + ' (' + devicesDPI[i].resolution[0] + 'x' + devicesDPI[i].resolution[1] + 'px, ' + devicesDPI[i].diagonal + '", ' + devicesDPI[i].dpi + 'dpi)';    deviceDropDownList.add('item', text);}deviceDropDownList.onChange = function() {    dpi = devicesDPI[this.selection.index].dpi;}deviceDropDownList.selection = deviceDropDownList.items[0];btnRealSizeView.onClick = function() {    realSizeView(dpi);}btnRealSizePrint.onClick = function() {    realSizeForPrint(dpi);}    win.about.aboutText.text = localize(lang.aboutText);    win.show();function realSizeView(deviceDPI) {    if(!documents.length) {        alert(localize(lang.alertOpenDoc));        return;    }    var originImageResolution = activeDocument.resolution;    // Change Image dpi to device dpi    setImageResolution(deviceDPI);    // Arrange - New Window for...    doMenuItem(cTID('NwVw'));    // View - Print Size    doMenuItem(cTID('PrnS'));        // View - Show - None    try {        doMenuItem(sTID('showNone'));     } catch(e) {}    // Recovery image dpi    setImageResolution(originImageResolution);}function realSizeForPrint(deviceDPI) {    if(!documents.length) {        alert(localize(lang.alertOpenDoc));        return;    }    // Select - All        activeDocument.selection.selectAll();        // Edit - Copy Merged    try {        activeDocument.selection.copy(true);    } catch(e) {        activeDocument.artLayers.add();        activeDocument.selection.copy(true);        activeDocument.activeLayer.remove();    }           // Select - Deselect    activeDocument.selection.deselect();        // File - New...    var width = UnitValue (activeDocument.width.as('px'), 'px');    var height = UnitValue (activeDocument.height.as('px'), 'px');    var name = activeDocument.name.slice(0, activeDocument.name.lastIndexOf('.')) + '_for_print';    documents.add(width, height, deviceDPI, name, NewDocumentMode.RGB, DocumentFill.TRANSPARENT);        // Edit - Paste    activeDocument.paste();}function setImageResolution(x) {    try {        activeDocument.resizeImage(activeDocument.width, activeDocument.height, x);    } catch(e) {}}function doMenuItem(item) {    var desc = new ActionDescriptor();    var ref = new ActionReference();        ref.putEnumerated(cTID('Mn  '), cTID('MnIt'), item);        desc.putReference(cTID('null'), ref);    executeAction(cTID("slct"), desc, DialogModes.NO);}function cTID(s) {    return app.charIDToTypeID(s);}function sTID(s) {    return app.stringIDToTypeID(s);}